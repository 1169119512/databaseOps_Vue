# Vue æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ

åŸºäº Vue 3 + Vite + Element Plus çš„æ•°æ®åº“ç®¡ç†å‰ç«¯é¡¹ç›®ï¼Œæ”¯æŒåŠ¨æ€ç®¡ç†å¤šä¸ªåç«¯æ•°æ®åº“è¿æ¥ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. è¿æ¥ç®¡ç†
- âœ… åŠ¨æ€æ·»åŠ /ç¼–è¾‘/åˆ é™¤æ•°æ®åº“è¿æ¥
- âœ… æ”¯æŒé…ç½®å¤šä¸ªåç«¯åœ°å€ï¼ˆsakurafrpå†…ç½‘ç©¿é€ï¼‰
- âœ… è¿æ¥æ¿€æ´»åˆ‡æ¢
- âœ… è¿æ¥æµ‹è¯•åŠŸèƒ½
- âœ… æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨ï¼ˆlocalStorageï¼‰

### 2. æ•°æ®ç®¡ç†
- âœ… RESTful é£æ ¼ API è°ƒç”¨
- âœ… å®Œæ•´çš„ CRUD æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- âœ… åˆ†é¡µæŸ¥è¯¢
- âœ… é«˜çº§ç­›é€‰åŠŸèƒ½
  - int/decimal ç±»å‹ï¼šæ”¯æŒ >ã€<ã€=ã€>=ã€<= æ¯”è¾ƒè¿ç®—
  - varchar ç±»å‹ï¼šæ¨¡ç³ŠæŸ¥è¯¢
  - date/timestamp ç±»å‹ï¼šæ—¥æœŸèŒƒå›´æŸ¥è¯¢
- âœ… è‡ªåŠ¨è·å–è¡¨ç»“æ„å’Œå­—æ®µç±»å‹

### 3. æŠ€æœ¯ç‰¹æ€§
- âš¡ Vue 3 + Composition API
- ğŸš€ Vite æ„å»ºå·¥å…·
- ğŸ¨ Element Plus UI ç»„ä»¶åº“
- ğŸ“¦ Pinia çŠ¶æ€ç®¡ç†
- ğŸ”„ Axios HTTP å®¢æˆ·ç«¯
- ğŸŒ æ”¯æŒ CORS è·¨åŸŸé…ç½®

## é¡¹ç›®ç»“æ„

```
vue/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API æ¥å£å±‚
â”‚   â”‚   â””â”€â”€ database.js   # æ•°æ®åº“ API å°è£…
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ AdvancedFilter.vue  # é«˜çº§ç­›é€‰ç»„ä»¶
â”‚   â”œâ”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Index.vue     # ä¸»å¸ƒå±€
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ stores/           # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ database.js   # æ•°æ®åº“è¿æ¥çŠ¶æ€
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ request.js    # Axios å°è£…
â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ConnectionManager.vue  # è¿æ¥ç®¡ç†é¡µ
â”‚   â”‚   â””â”€â”€ TableManager.vue       # æ•°æ®ç®¡ç†é¡µ
â”‚   â”œâ”€â”€ App.vue
â”‚   â”œâ”€â”€ main.js
â”‚   â””â”€â”€ style.css
â”œâ”€â”€ .env                  # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .env.production       # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â””â”€â”€ README.md
```

## å®‰è£…ä½¿ç”¨

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®åç«¯åœ°å€

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ï¼š

```env
# å¼€å‘ç¯å¢ƒä½¿ç”¨æœ¬åœ°åœ°å€
VITE_API_BASE_URL=http://localhost:5000
```

ç¼–è¾‘ `.env.production` æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼š

```env
# ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ sakurafrp åœ°å€
VITE_API_BASE_URL=https://your-domain.frp.sakura.com
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

é¡¹ç›®å°†è¿è¡Œåœ¨ `http://localhost:80`

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©åœ¨ `dist` ç›®å½•ã€‚

## ä½¿ç”¨è¯´æ˜

### ç¬¬ä¸€æ­¥ï¼šæ·»åŠ æ•°æ®åº“è¿æ¥

1. è¿›å…¥ã€Œè¿æ¥ç®¡ç†ã€é¡µé¢
2. ç‚¹å‡»ã€Œæ·»åŠ è¿æ¥ã€æŒ‰é’®
3. å¡«å†™è¿æ¥ä¿¡æ¯ï¼š
   - **è¿æ¥åç§°**ï¼šè‡ªå®šä¹‰åç§°ï¼ˆå¦‚ï¼šä¾›åº”å•†æ•°æ®åº“ï¼‰
   - **åç«¯åœ°å€**ï¼šåç«¯ API åœ°å€ï¼ˆå¦‚ï¼š`http://localhost:5000` æˆ– `https://xxx.frp.sakura.com`ï¼‰
   - **æ¨¡å—å**ï¼šè¦æ“ä½œçš„æ¨¡å—åï¼ˆå¦‚ï¼š`supplier-archive`ï¼‰
   - **æè¿°**ï¼šå¯é€‰çš„è¿æ¥æè¿°
4. ç‚¹å‡»ã€Œæµ‹è¯•ã€æŒ‰é’®æµ‹è¯•è¿æ¥
5. ç‚¹å‡»ã€Œæ¿€æ´»ã€æŒ‰é’®æ¿€æ´»è¯¥è¿æ¥

### ç¬¬äºŒæ­¥ï¼šç®¡ç†æ•°æ®

1. è¿›å…¥ã€Œæ•°æ®ç®¡ç†ã€é¡µé¢
2. ç³»ç»Ÿä¼šè‡ªåŠ¨åŠ è½½å½“å‰æ¿€æ´»è¿æ¥çš„è¡¨ç»“æ„
3. å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š
   - **æŸ¥çœ‹æ•°æ®**ï¼šè¡¨æ ¼å±•ç¤ºæ‰€æœ‰è®°å½•
   - **åˆ†é¡µæµè§ˆ**ï¼šæ”¯æŒè‡ªå®šä¹‰æ¯é¡µæ¡æ•°
   - **æ–°å¢è®°å½•**ï¼šç‚¹å‡»ã€Œæ–°å¢è®°å½•ã€æŒ‰é’®
   - **ç¼–è¾‘è®°å½•**ï¼šç‚¹å‡»è¡¨æ ¼è¡Œçš„ã€Œç¼–è¾‘ã€æŒ‰é’®
   - **åˆ é™¤è®°å½•**ï¼šç‚¹å‡»è¡¨æ ¼è¡Œçš„ã€Œåˆ é™¤ã€æŒ‰é’®
   - **é«˜çº§ç­›é€‰**ï¼šå±•å¼€ã€Œé«˜çº§ç­›é€‰ã€é¢æ¿ï¼Œè®¾ç½®ç­›é€‰æ¡ä»¶

### é«˜çº§ç­›é€‰ä½¿ç”¨

æ ¹æ®å­—æ®µç±»å‹è‡ªåŠ¨æ˜¾ç¤ºä¸åŒçš„ç­›é€‰æ§ä»¶ï¼š

- **æ•°å€¼ç±»å‹ï¼ˆint/decimalï¼‰**ï¼š
  - é€‰æ‹©è¿ç®—ç¬¦ï¼š=ã€>ã€>=ã€<ã€<=
  - è¾“å…¥æ•°å€¼
  
- **æ–‡æœ¬ç±»å‹ï¼ˆvarcharï¼‰**ï¼š
  - ç›´æ¥è¾“å…¥å…³é”®è¯
  - æ”¯æŒæ¨¡ç³ŠåŒ¹é…

- **æ—¥æœŸç±»å‹ï¼ˆdate/timestampï¼‰**ï¼š
  - é€‰æ‹©å¼€å§‹æ—¥æœŸ
  - é€‰æ‹©ç»“æŸæ—¥æœŸ
  - æŸ¥è¯¢èŒƒå›´å†…çš„è®°å½•

## API æ¥å£è§„èŒƒ

### åç«¯æ¥å£æ ¼å¼

```
GET    /api/{è¡¨å}/              # åˆ†é¡µæŸ¥è¯¢
GET    /api/{è¡¨å}/{id}          # æ ¹æ®IDæŸ¥è¯¢
POST   /api/{è¡¨å}/              # æ–°å¢è®°å½•
PUT    /api/{è¡¨å}/{id}          # æ›´æ–°è®°å½•
DELETE /api/{è¡¨å}/{id}          # åˆ é™¤è®°å½•
```

### æŸ¥è¯¢å‚æ•°æ ¼å¼

```
# åŸºç¡€åˆ†é¡µ
?page=1&page_size=10

# æ•°å€¼æ¯”è¾ƒ
?ZBXH_gte=10&ZBXH_lte=100

# æ¨¡ç³ŠæŸ¥è¯¢
?GYSMC_like=ç§‘æŠ€

# æ—¥æœŸèŒƒå›´
?CLSJ_start=2020-01-01&CLSJ_end=2024-12-31

# æ’åº
?order_by=CLSJ&order_desc=true
```

### å“åº”æ•°æ®æ ¼å¼

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 100,
    "page": 1,
    "page_size": 10,
    "total_pages": 10,
    "data": [
      {
        "ZBXH": 1,
        "GYSMC": "å…¬å¸åç§°",
        "CLSJ": "2020-01-01",
        ...
      }
    ]
  }
}
```

## sakurafrp å†…ç½‘ç©¿é€é…ç½®

### 1. å®‰è£… sakurafrp å®¢æˆ·ç«¯

è®¿é—® [sakurafrp.com](https://www.natfrp.com/) ä¸‹è½½å®¢æˆ·ç«¯ã€‚

### 2. é…ç½®éš§é“

- æœ¬åœ°IPï¼š`127.0.0.1`
- æœ¬åœ°ç«¯å£ï¼šåç«¯æœåŠ¡ç«¯å£ï¼ˆå¦‚ï¼š`5000`ï¼‰
- è¿œç¨‹ç«¯å£ï¼šç”± sakurafrp åˆ†é…
- åè®®ï¼šHTTP/HTTPS

### 3. è·å–å¤–ç½‘è®¿é—®åœ°å€

å¯åŠ¨éš§é“åï¼Œsakurafrp ä¼šæä¾›ä¸€ä¸ªå…¬ç½‘åœ°å€ï¼Œä¾‹å¦‚ï¼š
```
https://abc123.frp.sakura.com
```

### 4. é…ç½®åˆ°é¡¹ç›®

å°†è¯¥åœ°å€é…ç½®åˆ° `.env.production` æ–‡ä»¶ï¼š
```env
VITE_API_BASE_URL=https://abc123.frp.sakura.com
```

æˆ–åœ¨å‰ç«¯ã€Œè¿æ¥ç®¡ç†ã€é¡µé¢ç›´æ¥æ·»åŠ ã€‚

## ç«¯å£è¯´æ˜

- **å‰ç«¯ç«¯å£**ï¼š80ï¼ˆå¯åœ¨ `vite.config.js` ä¸­ä¿®æ”¹ï¼‰
- **åç«¯ç«¯å£**ï¼šæ ¹æ®å®é™…åç«¯æœåŠ¡é…ç½®ï¼ˆå»ºè®® 5000ï¼‰

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome >= 87
- Firefox >= 78
- Safari >= 14
- Edge >= 88

## æŠ€æœ¯æ ˆç‰ˆæœ¬

- Vue: 3.4.21
- Element Plus: 2.6.0
- Vite: 5.1.5
- Axios: 1.6.7
- Pinia: 2.1.7

## è®¸å¯è¯

MIT License

